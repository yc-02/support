<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/e3aea98539.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../styles.css">
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico">
    <title>Contact</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // https://dashboard.emailjs.com/admin/account
            emailjs.init({
              publicKey: "TFUVPMi4utIkF8R46",
            });
        })();
    </script>
    <script type="text/javascript">
        window.onload = function() {
            document.getElementById('contact-form').addEventListener('submit', function(event) {
                event.preventDefault();
                // these IDs from the previous steps
                emailjs.sendForm('service_u5vi5od','template_9kedb7o', this)
                    .then(() => {
                        alert("Message sent successfully! I will get back to you soon!");
                        window.location.replace("/")
                    }, (error) => {
                        alert("Failed to send message. Please use the email below to contact me directly.");
                        window.location.replace("/")
                    });
            });
        }
    </script>
</head>
<body style="display: none;">
    <div class="container">
        <div>
            <nav class="navbar"></nav>
            <main>
                <div class="contact-container">
                    <div class="contact-head">
                        <p class="web-title">Contact</p>
                        <p class="web-subtitle">Let&#39;s talk ðŸ‘‹ </p>
                    </div>
                    <form id="contact-form">
                        <input type="hidden" name="contact_number" value="697483">
                        <label class="contact-label">Your name
                            <input type="text" name="user_name" class="contact-input" required>
                        </label>
                        <label class="contact-label">Your email
                            <input type="email" name="user_email" class="contact-input" id="contact-email" required>
                        </label>
                        <label class="contact-label">Your message
                            <textarea name="message" class="contact-message" required></textarea>
                        </label>
                        <input type="submit" value="Send" class="contact-submit" id="submit-button">
                    </form>
                    <p id="email-error" style="display: none; color: tomato;">Please enter a valid email address.</p>
                </div>
            </main>
        </div>
        <footer></footer>
    </div>
    <script>
        const error = document.getElementById('email-error')
        const button = document.getElementById('submit-button')
        document.getElementById("contact-email").addEventListener("blur",function(){
            const email = document.getElementById("contact-email").value;
            const pattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if(!pattern.test(email)){
                error.style.display="block";
                button.disabled=true;
            }else{
                error.style.display="none";
                button.disabled=false;
            }
        })
    </script>
    <script src="../../script.js"></script>
</body>
</html>

